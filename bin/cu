#!/usr/bin/env ruby

# Print some whitespace
4.times { puts }

# Check if cucumber_spinner is available
spinner_available =  File.open('Gemfile').read.scan(/cucumber_spinner/).any?
format_args = spinner_available ? ['--format', 'CucumberSpinner::CuriousProgressBarFormatter'] : ['--format', 'progress']

# Run cucumber behind bundler
exec *["b", "cucumber", format_args, ARGV].flatten
